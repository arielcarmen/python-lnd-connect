import os
import base64


b64= """ewogICJ0eXBlIjogInNlcnZpY2VfYWNjb3VudCIsCiAgInByb2plY3RfaWQiOiAibWVkLWJvb2st
N2Y0NjkiLAogICJwcml2YXRlX2tleV9pZCI6ICIwYTNmYzY4MzVhMjE2MjYyOWNlZjEzNjIwNzlj
MWY2NjJhMGVjMTBiIiwKICAicHJpdmF0ZV9rZXkiOiAiLS0tLS1CRUdJTiBQUklWQVRFIEtFWS0t
LS0tXG5NSUlFdlFJQkFEQU5CZ2txaGtpRzl3MEJBUUVGQUFTQ0JLY3dnZ1NqQWdFQUFvSUJBUURh
RXpaajhsejhydzJkXG5kZFdnN3hUVytTLytqdlNrd0wrb3MwTmxIV28xRWpCbm5BUWFJMFZYUUVu
L1QyUnJWZHhwdjBVOFpxYlRUNzV2XG43M0dwYk91azRqL2xwMW1FdmVGYVNQVDl5d0hWR0JxdERR
ZHhZK1l0UUYvZExqbDJKUGZCY0l3ODBQeTBWL2oyXG5Wd2ZkcVY4bk9yVjBOdUk4VHQ1MnRNdFhX
L3Y0NnNRTW5TWk82aC81VDF3aG9jeHVZNFlQOWJPREJjREZQckV5XG55dHVtWDRlQnhqa1RaMS9M
VWxSeFhsWC9lWmxIaHM1Rk9DZ0J1cm1mVFdBU3lMRjIwVWJTNkxNMDRhYVpoTGdlXG53OUJVUmRv
alhvUVNJN3NicDI0S1c4eE1LclpzOWxXbkRqZEZkTkpJMDJ4aFo4T0gycThNMm5jNlhRTS9ZYkhO
XG5PZUt6cUlTTEFnTUJBQUVDZ2dFQUlVMnEwa09xbUxwQkdZbHJ5UXFLQTdTRmRGb3ZtVk9JVVlL
aTZiZSt4d0VTXG5uRmdTdGswcG8wUUJxUGhlYlJmdE04Y09rMFZYOTlCblZGL2NXMVB6ZnJoQXF0
bE9UZnZUaFA2OFQxL24xVHU3XG5veTdvc3BQZmpJeVd0MGYrWllFS3h5TmhmMDRwTVg5MzJXTDhK
QWxnS3pVSGpncHRyV2tjQjBQZ0ErVGJ5NjBDXG5leGtRNVJOV1BxV1JyQ2FXa0MwTlA0Yk5GU0dH
YnhDOTJ1Y2dTZGtKcUNQYk01emhlMk1QT2EyMURTQThDYm5jXG5BRGN1OGg3NnQveGJFZWpJOE1F
N1VVUUVFYlYrNFJYRXRkQ3lSSndIaHVPZmVjSDZUUUlYQStOMHMyTTdYMENDXG5ScTYwbi9WczF4
ckNKR05rVk1xT0ZWVlNWaXVZVSsvdnF3Zm1TdWxIQlFLQmdRRHdWbUYwR2IxZHhuaGttd1NYXG5U
aEVvREE4U3ZNOGRpZjFLNUJhMnZDdlpTMnMyM3NiZm5hcDd3WmE3a1IvcW9LVUhSYkVRUmFDSk1s
UEZzUWhZXG4zK3ZJSVlGQXFIcURBTlJ0bFBwVEEwU0NEL3ZWZnBYbXNkclkxL0x5Mzd1QXBSV0Nn
Rk9mU1FSTzlUU3IvbGhWXG4wTnJ6MEU5UTh1OGRGWFgrMThmcGd0aVhkd0tCZ1FEb1NXd05VRmlI
RCtSTVBFT2p5S21BWS9Jc2YwdUNBTVFyXG5weDJNSEdxY0ZlaTk1azNoYUVFZkM5ejN6d3FuYlZJ
Wk5HczRtRlZBNHQwQlVKUktsWlpxK09NRkxzOTFMUjJSXG5GTGUvdGJNQjAvS1RiWmphTzVHNkJI
STRzWnpQT2FQOGQ5TkJqWTUxSGY0bThIRjI1SXRBVDJ3NGw5L3FDYnlLXG45ODg1TklHb2pRS0Jn
RWFMeEgxVTFONEMxUElMQXJUN0NGUXQvZnF0QzBxTFo1c2xDbm5IRUVQdlBHQlYwaUJ2XG5Za3lE
VGFCdS8rUmFGVGJtUVF3YXMvMnhsUjl4VUpidDI0TGFPdHRrMk5rOVZCMTZYbVFoa0dseEVhWGdT
MVgxXG5ITjBMdmxlR1RyNTdOcTRneHVyNWZ0ZENhSnlYd3d3bGl5K0lGTkFaRHhFRmJLWktabmJu
bm5ZUEFvR0JBSTVoXG5hdHppVWRFLzJYVXRQMXltUTllUjY4Q0FxbHplY1dBOGlDejR3aFE0amJm
UThnM25aSHRPUHp5YWFQSmxYUHhjXG5HQmpScnZnZDFzL1dmMzhVSCtZajlxdVhuTXc3UWpOS21y
TGxBZnR0MmZPcUt4WWhpMXFWSFJwSkxGQU5DY3BYXG4vR0xqRE40VzYxRWM4citvcVA1YmNIOWtB
SGtwVEt0MTZFd3ROZ2lGQW9HQVFyRFNuZTFtOUVKeDYyUnJRTk9xXG5odVhmVHhVeDVpSkV1V045
ZEsySlR6TlBsU3h4Wm5PbDVKUERpaTAvUTh5ZUZOUWUrUjV0Yk9SYy9QdlZoSVdIXG5xUG5HMmZs
dHVjY1RVUEtTRzBqbkRLZVBZdmZ4NGprMVVmZDVrdUJVQXZndHNuVFZmZm9xT0xWR2NFUTVqOU1x
XG5Ic2FKMXVkbDQ0cWZmUllFclAxQTZRRT1cbi0tLS0tRU5EIFBSSVZBVEUgS0VZLS0tLS1cbiIs
CiAgImNsaWVudF9lbWFpbCI6ICJmaXJlYmFzZS1hZG1pbnNkay1mYnN2Y0BtZWQtYm9vay03ZjQ2
OS5pYW0uZ3NlcnZpY2VhY2NvdW50LmNvbSIsCiAgImNsaWVudF9pZCI6ICIxMDMyNDY0MTAxNjI1
ODA5ODYyNTIiLAogICJhdXRoX3VyaSI6ICJodHRwczovL2FjY291bnRzLmdvb2dsZS5jb20vby9v
YXV0aDIvYXV0aCIsCiAgInRva2VuX3VyaSI6ICJodHRwczovL29hdXRoMi5nb29nbGVhcGlzLmNv
bS90b2tlbiIsCiAgImF1dGhfcHJvdmlkZXJfeDUwOV9jZXJ0X3VybCI6ICJodHRwczovL3d3dy5n
b29nbGVhcGlzLmNvbS9vYXV0aDIvdjEvY2VydHMiLAogICJjbGllbnRfeDUwOV9jZXJ0X3VybCI6
ICJodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9yb2JvdC92MS9tZXRhZGF0YS94NTA5L2ZpcmVi
YXNlLWFkbWluc2RrLWZic3ZjJTQwbWVkLWJvb2stN2Y0NjkuaWFtLmdzZXJ2aWNlYWNjb3VudC5j
b20iLAogICJ1bml2ZXJzZV9kb21haW4iOiAiZ29vZ2xlYXBpcy5jb20iCn0K
""".strip()
if b64:
    decoded = base64.b64decode(b64)
    with open("med-book.jsn", "wb") as f:
        f.write(decoded)
    print("✅ serviceAccount.json généré avec succès")
else:
    print("❌ Variable GOOGLE_SERVICE_ACCOUNT_B64 manquante")