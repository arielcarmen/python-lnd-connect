import os
import base64


b64= """ewogICJ0eXBlIjogInNlcnZpY2VfYWNjb3VudCIsCiAgInByb2plY3RfaWQiOiAibWVkLWJvb2st
N2Y0NjkiLAogICJwcml2YXRlX2tleV9pZCI6ICJhZWQ3NTA1ZWJiMGU1NTZlYjA5NmE1MGM3NTY2
ZTdlOWZiN2I2ODQ0IiwKICAicHJpdmF0ZV9rZXkiOiAiLS0tLS1CRUdJTiBQUklWQVRFIEtFWS0t
LS0tXG5NSUlFdkFJQkFEQU5CZ2txaGtpRzl3MEJBUUVGQUFTQ0JLWXdnZ1NpQWdFQUFvSUJBUUN0
d1dXQ0hYUWlNamx4XG5vR0FXZlBKTnNNRlZhNTJtandIZDNaN3A3WDlxUytyalI5RVRJa2ZHRmJM
OHEwY2NvUWswR0lTWkZOb25kdkxsXG5yNWgrRW9zNzl2cm1qSHBhQzR2enQxdFlxVmU4UjF1c0Vo
QlRnRmJQYlNLb2J0dXVzTk43NFhRUElPTHJGT2lxXG5PMHYxZ2djRy9LWVR4aTlFUVJIUmNLR0lk
TUUyQU9ZQmdHbHRMQzBzVU1nWW1pckNNSDhTbnhFMXdHVlVadTRIXG5TUWI1VWQ0L1RRZlF2eEVa
ZkJFcmwzNldZY0lsYUdhT0dYd01WRGlybWhabmk5cXM2QXJIbGRCdTVFMEZtRXJaXG5qanRjZW1r
a0FYZGFHN1NNNjhVeHROamRqY2I0NkZicXBvYk9MdVZ0UEFSMXEycHFMS0JmRDQyK1Q5UHRVK0Rr
XG51eklWcGRseEFnTUJBQUVDZ2dFQUFqRFNmbkR2NEYycVU2bTNteGVsUi9BUVhmV2kyY0UxbElZ
cFFvNkorUzErXG54ekc3ZTg2UkRGa0V4aWdFTFdMdjQ3bzM2TVN4S1VjaXNmS1VSLzc1OFFON1gy
OEZFZy9SZFIwUGxTY2h4SzFRXG5lcDRmTDlML1NvaWl3N0FqSVFQdHoxZy9qMUJ2My96UXRWTVUr
L2RSTHAxcFJzMmh3SzVDZ3VCMDlFSEc3UVJSXG5wZFl3YVpTamhRbHhVTU85bXIxNHBucExkVmZu
MmZtOGZVSnJvT1FiQzZZQjZHTVBRSSt6dFc1VGd1WnVDeW5qXG5pYm5HcnhSb2E3cXV1R2VPWmFO
eHRDV2xFVnpYejM0NGx3TjZUcVpxbG5BL1hTMXoySFRuZXpTeXBHa09uUjRjXG5raDV3TDRRZVZB
eGZCZjU3YVZablI4aDNSUjRBOFVqTXgwc0x5UU5ld1FLQmdRRFZRbzl4aFZxbXFnbTZ1MUEvXG55
LzJoWERjOUtvWUVGQmRUT1h6TUNMM0N3bWQ5TGJxanNOdTZwTnVYVHFmdGM5MURBRHdDcGI0bHVk
cFFqYWtTXG50QUVhVGRpc1JXQ3ZlRktpc0xtTGdqdDh6dVZaSlFiamY2RHZYeTRYRUZyYnVJSWZW
UnRzbDFFdmx2blQvTmhGXG5KWVNiTHZFK0lFQ3BBOFNsb0xscjlsbkZrUUtCZ1FEUWxBZkhiUUxz
V0lxUGtOU0prWk1qSUtiRVY2UHFjbStBXG5RNThCZGwrSkVtRmNaMElrTFQ3dXlWV0RlWGhMdzRW
ZTMraUd6bWxPSGFXT3BwY0FkQ2ZVb05LbFVMSHJGVHZSXG4vVnVkMUtBb2ZycG40OGora2xpbmZ3
MXJoYi83WDF6bkoxbEJweDZkSGJNODNpSXcreUhFbkUrQkJVS1E1U3c1XG5waVQ5em4xbDRRS0Jn
RFZyRnNNNHhCdzdPM1NxdHM5RUthUGhsWFNjMGpUelUyUmxZZjA1czA2MW8zYVhuY2lpXG41R2M4
SkVVaVRxNEw5OEJ3cnBkN0xNWUdaOGtGc3ZRY1lxcFVGWklSVHNhbFBRM0RkcmFiU0l0YXg5Z3Nq
aTB1XG5Ld0hLdGFEUlYvRHhwcVp5aXd3SVd5MndnNk8yRWZaQUQ1ZFBpdDRrOWcxZ0JFSDRvSG1L
bTdJQkFvR0FmaHF4XG5wVkgwTFg3T3IwUUtLKzVXdmlzMGlJclFNS1BsWSsvK1IzMFEvNmVjTTZp
K1pXN3htSjhqVTJ6eVhTUW1FNWxlXG5WWHFnVWprOGFrV3dEL2NxU2JTK0JuTUdUckkweTUzWmNW
QW5VTFJsOFAvWCtvbnlqYm9VSEFqdWJJVllmdXpjXG5Xd1EyVHhtd3owRWgvT2tvbmwwKytDdDg5
bXVJVkladDRRR2g4U0VDZ1lBalc0UXpzUHNLN0NqTnQ2NkF4TmxRXG40MVJIcEZDQ1p6YlcrQ012
STI4SnNLQi9naWtSbXQ3TjdoNXN0cmxXMlROeENTZ0RJTDV6SGFVeGdUc3FKUCt2XG51Y1FmcW03
cWwzL0NlSHVkYzRZK1pMNm0zZVY4NXNtZGU2UEJjMTZpVjA5NW1aNEVmYWM2Rm1wTFpZdENFaHc0
XG51S2JDaUp1eXVoR3QyaXMrangvSmd3PT1cbi0tLS0tRU5EIFBSSVZBVEUgS0VZLS0tLS1cbiIs
CiAgImNsaWVudF9lbWFpbCI6ICJtZWQtc2VydmljZUBtZWQtYm9vay03ZjQ2OS5pYW0uZ3NlcnZp
Y2VhY2NvdW50LmNvbSIsCiAgImNsaWVudF9pZCI6ICIxMTgzNzA4OTUwMTM0NjU1NTk0MjIiLAog
ICJhdXRoX3VyaSI6ICJodHRwczovL2FjY291bnRzLmdvb2dsZS5jb20vby9vYXV0aDIvYXV0aCIs
CiAgInRva2VuX3VyaSI6ICJodHRwczovL29hdXRoMi5nb29nbGVhcGlzLmNvbS90b2tlbiIsCiAg
ImF1dGhfcHJvdmlkZXJfeDUwOV9jZXJ0X3VybCI6ICJodHRwczovL3d3dy5nb29nbGVhcGlzLmNv
bS9vYXV0aDIvdjEvY2VydHMiLAogICJjbGllbnRfeDUwOV9jZXJ0X3VybCI6ICJodHRwczovL3d3
dy5nb29nbGVhcGlzLmNvbS9yb2JvdC92MS9tZXRhZGF0YS94NTA5L21lZC1zZXJ2aWNlJTQwbWVk
LWJvb2stN2Y0NjkuaWFtLmdzZXJ2aWNlYWNjb3VudC5jb20iLAogICJ1bml2ZXJzZV9kb21haW4i
OiAiZ29vZ2xlYXBpcy5jb20iCn0K
""".strip()
if b64:
    decoded = base64.b64decode(b64)
    with open("med-book.json", "wb") as f:
        f.write(decoded)
    print("✅ serviceAccount.json généré avec succès")
else:
    print("❌ Variable GOOGLE_SERVICE_ACCOUNT_B64 manquante")